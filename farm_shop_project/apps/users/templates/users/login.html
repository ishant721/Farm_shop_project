{% extends 'users/base_auth.html' %}
{% load static %}

{% block title %}Login - Farm Shop{% endblock %}
{% block auth_title %}Login{% endblock %}

{% block auth_content %}
<form method="post">
    {% csrf_token %}
    <div class="mb-3">
        <label for="{{ form.username.id_for_label }}" class="form-label">{{ form.username.label }}</label>
        {{ form.username }}
        {% if form.username.errors %}<div class="text-danger small mt-1">{{ form.username.errors }}</div>{% endif %}
    </div>
    <div class="mb-3 position-relative">
        <label for="{{ form.password.id_for_label }}" class="form-label">{{ form.password.label }}</label>
        {{ form.password }}
        <span class="password-toggle-icon" onclick="togglePasswordVisibility('{{ form.password.id_for_label }}')">
            <i class="fas fa-eye"></i>
        </span>
        {% if form.password.errors %}<div class="text-danger small mt-1">{{ form.password.errors }}</div>{% endif %}
    </div>
    {% if form.non_field_errors %}<div class="text-danger small mt-1">{{ form.non_field_errors }}</div>{% endif %}
    <button type="submit" class="btn btn-success w-100 mt-3">Login</button>
</form>
<div class="text-center mt-3">
    <a href="{% url 'users:password_reset_request' %}">Forgot Password?</a>
</div>
<div class="text-center mt-2">
    Don't have an account? <a href="{% url 'users:register' %}">Register here</a>
</div>
{% endblock %}
